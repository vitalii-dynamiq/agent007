# =============================================================================
# Dynamiq Environment Configuration
# =============================================================================
# Copy this file to backend/.env and fill in your values
# 
# Documentation links are provided for each service to help with setup.
# Last updated: January 2026
# =============================================================================

# -----------------------------------------------------------------------------
# Server Configuration
# -----------------------------------------------------------------------------
PORT=8080
FRONTEND_URL=http://localhost:5173
BACKEND_URL=http://localhost:8080

# -----------------------------------------------------------------------------
# LLM Configuration
# -----------------------------------------------------------------------------
# OpenAI API (or compatible)
# Documentation: https://platform.openai.com/docs/api-reference
LLM_PROVIDER=openai
LLM_API_KEY=sk-...
LLM_MODEL=gpt-5.2
# LLM_BASE_URL=  # Optional: for OpenAI-compatible APIs

# -----------------------------------------------------------------------------
# E2B Sandbox
# -----------------------------------------------------------------------------
# Create account: https://e2b.dev
# Documentation: https://e2b.dev/docs
E2B_API_KEY=e2b_...

# Custom template ID for faster startup (optional)
# Build with: cd e2b-template && make build
# The build output will show the template ID to use
# E2B_TEMPLATE_ID=dynamiq-agent-sandbox

# -----------------------------------------------------------------------------
# MCP Provider Selection (optional)
# -----------------------------------------------------------------------------
# Options: "auto" (default), "pipedream", "composio"
# "auto" chooses the provider defined per integration and falls back to the first configured provider.
MCP_PROVIDER=auto

# Optional override. If unset, defaults to BACKEND_URL + /api/mcp/proxy
# MCP_PROXY_URL=

# -----------------------------------------------------------------------------
# Pipedream MCP
# -----------------------------------------------------------------------------
# Create project: https://pipedream.com/projects
# Documentation: https://pipedream.com/docs/connect
PIPEDREAM_CLIENT_ID=
PIPEDREAM_CLIENT_SECRET=
PIPEDREAM_PROJECT_ID=proj_...
PIPEDREAM_ENVIRONMENT=development

# -----------------------------------------------------------------------------
# Composio MCP
# -----------------------------------------------------------------------------
# Get API key: https://app.composio.dev
# Documentation: https://docs.composio.dev
COMPOSIO_API_KEY=ak_...
COMPOSIO_PROJECT_ID=

# -----------------------------------------------------------------------------
# AWS (Optional - for assuming roles on behalf of users)
# -----------------------------------------------------------------------------
# Documentation: https://docs.aws.amazon.com/cli/latest/userguide/cli-configure-envvars.html
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# AWS_REGION=us-east-1

# -----------------------------------------------------------------------------
# Security
# -----------------------------------------------------------------------------
# Used for signing JWT tokens - use a secure random 32+ character string
# Generate with: openssl rand -base64 32
JWT_SECRET=your-secret-key-change-in-production-32-chars-min

# -----------------------------------------------------------------------------
# Sentry MCP (Direct MCP + OAuth2)
# -----------------------------------------------------------------------------
# Register a client on the Sentry MCP OAuth server:
# curl -X POST https://mcp.sentry.dev/oauth/register \
#   -H "Content-Type: application/json" \
#   -d '{"client_name":"Dynamiq","redirect_uris":["https://<ngrok>/api/integrations/oauth/callback"]}'
SENTRY_CLIENT_ID=
SENTRY_CLIENT_SECRET=
SENTRY_REDIRECT_URL=http://localhost:8080/api/integrations/oauth/callback